// Generated by CoffeeScript 1.7.1
(function() {
  var config, makeScript, plivo;

  config = require('config');

  plivo = require('plivo');

  makeScript = function(messageBody) {};

  exports.callUser = function(req, res) {
    var p, params, script, xmlBaseUrl;
    script = makeScript(req.body) || "";
    xmlBaseUrl = "http://plivo-idonethis.herokuapp.com/xml-response";
    params = {
      from: req.body.src || 14157588395,
      to: req.body.src || 14155345337,
      answer_url: xmlBaseUrl + "?script=" + script
    };
    p = plivo.RestAPI(config.plivo);
    return p.make_call(params, function(status, response) {
      return res.send(status, responses);
    });
  };

  exports.readScript = function(req, res) {
    var message, options, r;
    r = new plivo.Response();
    message = req.body.script || 'hello';
    options = {
      loop: 2
    };
    r.addSpeak(message, options);
    return res.send(200, r.toXML());
  };

}).call(this);
