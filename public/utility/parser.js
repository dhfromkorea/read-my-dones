// Generated by CoffeeScript 1.7.1
(function() {
  var dataParser;

  dataParser = require('data-file-parser');

  module.exports.parseDones = function(inputPath, outputPath, callback) {
    var params, regex;
    regex = "^x\\s(\\d{4}-\\d{2}-\\d{2}\\s)?(\\d{4}-\\d{2}-\\d{2}\\s)?([^@+\\n]+)(\\+[^@\\n]+)?(\\@[^+\\s\\n]+)?[^\\n\\s]?";
    params = {
      "in": inputPath,
      out: outputPath,
      "var": 'result',
      regex: new RegExp(regex, "igm"),
      as: 'completedAt|createdAt|item|project|context'
    };
    return dataParser.parse(params).then(function(result) {
      return callback(result);
    })["catch"](function(e) {
      return console.err('parse failed', e.message);
    });
  };

}).call(this);
